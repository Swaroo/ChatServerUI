{"ast":null,"code":"var _jsxFileName = \"/app/src/board.js\";\nimport React from 'react';\nimport { render } from 'react-dom';\nimport axios from 'axios'; // axios seemed like a cool package to do api calls, alternative is fetch\n\nclass Board extends React.Component {\n  constructor(props) {\n    super(props); // data that user types in from login form\n\n    this.onMessageChange = event => {\n      console.log(\"a\");\n      this.setState({\n        message: event.target.value\n      });\n\n      if (event.target.value === 'Enter') {\n        console.log(\"You typed enter!\\n\");\n      }\n    };\n\n    this.onKeyDown = ele => {\n      if (ele.keyCode === 13) {\n        var cur_message = this.state.message;\n        console.log(\"enter pressed!\");\n        console.log(\"sending this message to server: \" + cur_message);\n        console.log(\"with this token: \" + this.state.token);\n        this.setState({\n          message: ''\n        });\n        axios.post(\"http://localhost:3000/message\", null, {\n          params: {\n            message: cur_message\n          },\n          headers: {\n            \"Access-Control-Allow-Origin\": \"*\",\n            Authorization: \"Bearer \".concat(this.state.token)\n          }\n        }).then(response => {\n          console.log(response);\n        }, error => {\n          console.log(error);\n\n          if (error.response.status === 403) {\n            console.log(\"403: Token not valid\");\n          }\n        });\n      }\n    };\n\n    this.onTextChange = event => {\n      // DUMMY\n      this.setState({\n        message: event.target.value\n      });\n    };\n\n    this.state = {\n      message: '',\n      token: ''\n    };\n  } // update username in state when keys are typed into login form\n\n\n  componentDidMount() {\n    var old_state = this.props.location.state;\n    console.log(\"old state: \");\n    console.log(old_state);\n    console.log(\"old token: \" + old_state.token);\n    this.setState({\n      token: old_state.token\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      align: \"center\",\n      style: {\n        color: 'green'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \" CS 291 Class\"), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      style: {\n        height: '850px',\n        width: '70%',\n        overflow: 'scroll'\n      },\n      value: \"Hello!\",\n      onChange: this.onTextChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        float: 'right',\n        height: '850px',\n        width: '28%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      style: {\n        fontWeight: 'bold'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, \"Online\"))), React.createElement(\"tbody\", {\n      style: {\n        fontWeight: 'light'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"Jill\")), React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Eve\")))))), React.createElement(\"input\", {\n      style: {\n        height: '30px',\n        width: '100%'\n      },\n      type: \"text\",\n      value: this.state.message,\n      onChange: this.onMessageChange,\n      onKeyDown: this.onKeyDown,\n      required: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }));\n  }\n\n} //<input style={{height: '30px', width:'100%'}} type=\"text\" value={this.state.message} onChange={this.onMessageChange} required/>\n\n\nexport default Board;","map":{"version":3,"sources":["/app/src/board.js"],"names":["React","render","axios","Board","Component","constructor","props","onMessageChange","event","console","log","setState","message","target","value","onKeyDown","ele","keyCode","cur_message","state","token","post","params","headers","Authorization","then","response","error","status","onTextChange","componentDidMount","old_state","location","color","height","width","overflow","float","fontWeight"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,WAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAA2B;;AAE3B,MAAMC,KAAN,SAAoBH,KAAK,CAACI,SAA1B,CAAoC;AAClCC,EAAAA,WAAW,CAACC,KAAD,EAAO;AAChB,UAAMA,KAAN,EADgB,CAGhB;;AAHgB,SAUlBC,eAVkB,GAUCC,KAAD,IAAU;AAC1BC,MAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ;AACA,WAAKC,QAAL,CAAc;AAACC,QAAAA,OAAO,EAAEJ,KAAK,CAACK,MAAN,CAAaC;AAAvB,OAAd;;AACA,UAAIN,KAAK,CAACK,MAAN,CAAaC,KAAb,KAAuB,OAA3B,EAAmC;AACjCL,QAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACD;AACF,KAhBiB;;AAAA,SAkBlBK,SAlBkB,GAkBLC,GAAD,IAAQ;AAClB,UAAIA,GAAG,CAACC,OAAJ,KAAgB,EAApB,EAAuB;AACrB,YAAIC,WAAW,GAAG,KAAKC,KAAL,CAAWP,OAA7B;AACAH,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAY,qCAAqCQ,WAAjD;AACAT,QAAAA,OAAO,CAACC,GAAR,CAAY,sBAAsB,KAAKS,KAAL,CAAWC,KAA7C;AAEA,aAAKT,QAAL,CAAc;AAACC,UAAAA,OAAO,EAAE;AAAV,SAAd;AAEAV,QAAAA,KAAK,CAACmB,IAAN,CAAY,+BAAZ,EAA6C,IAA7C,EAAmD;AACnDC,UAAAA,MAAM,EAAE;AACNV,YAAAA,OAAO,EAAEM;AADH,WAD2C;AAInDK,UAAAA,OAAO,EAAE;AACP,2CAA+B,GADxB;AAEPC,YAAAA,aAAa,mBAAY,KAAKL,KAAL,CAAWC,KAAvB;AAFN;AAJ0C,SAAnD,EAQCK,IARD,CAQOC,QAAD,IAAc;AACpBjB,UAAAA,OAAO,CAACC,GAAR,CAAYgB,QAAZ;AAED,SAXC,EAWEC,KAAD,IAAW;AACZlB,UAAAA,OAAO,CAACC,GAAR,CAAYiB,KAAZ;;AACA,cAAIA,KAAK,CAACD,QAAN,CAAeE,MAAf,KAA0B,GAA9B,EAAkC;AAChCnB,YAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ;AACD;AAEF,SAjBC;AAmBD;AACF,KA/CiB;;AAAA,SAiDlBmB,YAjDkB,GAiDFrB,KAAD,IAAU;AACvB;AACA,WAAKG,QAAL,CAAc;AAACC,QAAAA,OAAO,EAAEJ,KAAK,CAACK,MAAN,CAAaC;AAAvB,OAAd;AACD,KApDiB;;AAIhB,SAAKK,KAAL,GAAa;AACXP,MAAAA,OAAO,EAAE,EADE;AAEXQ,MAAAA,KAAK,EAAE;AAFI,KAAb;AAID,GATiC,CAUlC;;;AA6CAU,EAAAA,iBAAiB,GAAG;AAClB,QAAIC,SAAS,GAAG,KAAKzB,KAAL,CAAW0B,QAAX,CAAoBb,KAApC;AACAV,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYqB,SAAZ;AACAtB,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAgBqB,SAAS,CAACX,KAAtC;AAEA,SAAKT,QAAL,CAAc;AAACS,MAAAA,KAAK,EAAEW,SAAS,CAACX;AAAlB,KAAd;AACD;;AAGFnB,EAAAA,MAAM,GAAG;AACR,WACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK;AAAI,MAAA,KAAK,EAAC,QAAV;AAAmB,MAAA,KAAK,EAAE;AAACgC,QAAAA,KAAK,EAAC;AAAP,OAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADL,EAEK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAU,MAAA,KAAK,EAAE;AAACC,QAAAA,MAAM,EAAC,OAAR;AAAkBC,QAAAA,KAAK,EAAC,KAAxB;AAA+BC,QAAAA,QAAQ,EAAC;AAAxC,OAAjB;AAAoE,MAAA,KAAK,EAAC,QAA1E;AAAmF,MAAA,QAAQ,EAAE,KAAKP,YAAlG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,EAIJ;AAAK,MAAA,KAAK,EAAE;AAACQ,QAAAA,KAAK,EAAC,OAAP;AAAgBH,QAAAA,MAAM,EAAE,OAAxB;AAAiCC,QAAAA,KAAK,EAAC;AAAvC,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,KAAK,EAAE;AAACG,QAAAA,UAAU,EAAC;AAAZ,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CADF,CADF,EAME;AAAO,MAAA,KAAK,EAAE;AAACA,QAAAA,UAAU,EAAC;AAAZ,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,CADF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,CAJF,CANF,CADN,CAJI,CAFL,EA2BK;AAAO,MAAA,KAAK,EAAE;AAACJ,QAAAA,MAAM,EAAE,MAAT;AAAiBC,QAAAA,KAAK,EAAC;AAAvB,OAAd;AAA8C,MAAA,IAAI,EAAC,MAAnD;AAA0D,MAAA,KAAK,EAAE,KAAKhB,KAAL,CAAWP,OAA5E;AAAqF,MAAA,QAAQ,EAAE,KAAKL,eAApG;AAAqH,MAAA,SAAS,EAAE,KAAKQ,SAArI;AAAgJ,MAAA,QAAQ,MAAxJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA3BL,CADD;AAgCC;;AAlGiC,C,CAoGpC;;;AACA,eAAeZ,KAAf","sourcesContent":["import React from 'react'\nimport { render } from 'react-dom'\nimport axios from 'axios'; // axios seemed like a cool package to do api calls, alternative is fetch\n\nclass Board extends React.Component {\n  constructor(props){\n    super(props);\n    \n    // data that user types in from login form\n    this.state = {\n      message: '',\n      token: ''\n    };\n  }\n  // update username in state when keys are typed into login form\n  onMessageChange = (event) =>{\n    console.log(\"a\");\n    this.setState({message: event.target.value})\n    if (event.target.value === 'Enter'){\n      console.log(\"You typed enter!\\n\");\n    }\n  }\n\n  onKeyDown = (ele) =>{\n    if (ele.keyCode === 13){\n      var cur_message = this.state.message;\n      console.log(\"enter pressed!\");\n      console.log(\"sending this message to server: \" + cur_message);\n      console.log(\"with this token: \" + this.state.token);\n\n      this.setState({message: ''});\n\n      axios.post( \"http://localhost:3000/message\", null, { \n      params: {\n        message: cur_message\n      }, \n      headers: { \n        \"Access-Control-Allow-Origin\": \"*\", \n        Authorization: `Bearer ${this.state.token}`\n      } \n    }).then((response) => {\n      console.log(response);\n\n    }, (error) => {\n      console.log(error);\n      if (error.response.status === 403){\n        console.log(\"403: Token not valid\");\n      }\n\n    });\n\n    }\n  }\n\n  onTextChange = (event) =>{\n    // DUMMY\n    this.setState({message: event.target.value})\n  }\n\n  componentDidMount() {\n    var old_state = this.props.location.state;\n    console.log(\"old state: \");\n    console.log(old_state);\n    console.log(\"old token: \" + old_state.token);\n\n    this.setState({token: old_state.token});\n  }\n\n\t\n\trender() {\n\t\treturn (\n\t\t\t<div>\n        <h1 align=\"center\" style={{color:'green'}}> CS 291 Class</h1>\n        <span>\n        <textarea style={{height:'850px',  width:'70%', overflow:'scroll'}} value=\"Hello!\" onChange={this.onTextChange}>\n        \n        </textarea>\n\t\t\t\t<div style={{float:'right', height: '850px', width:'28%'}}>\n          <table>\n            <thead style={{fontWeight:'bold'}}>\n              <tr>\n                <th>Online</th>\n              </tr>\n            </thead>\n            <tbody style={{fontWeight:'light'}}>\n              <tr>\n                <th>Jill</th>\n              </tr>\n              <tr>\n                <th>Eve</th>\n              </tr>\n            </tbody>\n            \n          </table>\n        </div>\n\n        </span>\n\n        <input style={{height: '30px', width:'100%'}} type=\"text\" value={this.state.message} onChange={this.onMessageChange} onKeyDown={this.onKeyDown} required/>\n\n      </div>\n    )\n  }\n}\n//<input style={{height: '30px', width:'100%'}} type=\"text\" value={this.state.message} onChange={this.onMessageChange} required/>\nexport default Board"]},"metadata":{},"sourceType":"module"}